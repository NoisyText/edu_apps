<?xml version="1.0" encoding="UTF-8"?>
<cartridge_basiclti_link xmlns="http://www.imsglobal.org/xsd/imslticc_v1p0"
    xmlns:blti = "http://www.imsglobal.org/xsd/imsbasiclti_v1p0"
    xmlns:lticm ="http://www.imsglobal.org/xsd/imslticm_v1p0"
    xmlns:lticp ="http://www.imsglobal.org/xsd/imslticp_v1p0"
    xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation = "http://www.imsglobal.org/xsd/imslticc_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticc_v1p0.xsd
    http://www.imsglobal.org/xsd/imsbasiclti_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imsbasiclti_v1p0.xsd
    http://www.imsglobal.org/xsd/imslticm_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticm_v1p0.xsd
    http://www.imsglobal.org/xsd/imslticp_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticp_v1p0.xsd">
    <blti:title>{{ name }}</blti:title>
    <blti:description>{{ description }}</blti:description>
    <blti:icon>{{ icon_url }}</blti:icon>
    {{#if launch_url }}
    <blti:launch_url>{{ launch_url }}</blti:launch_url>
    {{/if}}
    {{#if custom_fields }}
      <blti:custom>
        {{#each custom_fields}}
        <lticm:property name="{{ key }}">{{ val }}</lticm:property>
        {{/each}}
      </blti:custom>
    {{/if}}
    
    <blti:extensions platform="canvas.instructure.com">
      {{#if id }}
      <lticm:property name="tool_id">{{ id }}</lticm:property>
      {{/if}}
      <lticm:property name="privacy_level">{{ privacy_level }}</lticm:property>
      {{#if domain}}
      <lticm:property name="domain">{{ domain }}</lticm:property>
      {{/if}}
      {{#if editor_button }}
      <lticm:options name="editor_button">
        <lticm:property name="url">{{ editor_button_launch_url }}</lticm:property>
        {{#if editor_button_icon_url }}
        <lticm:property name="icon_url">{{ editor_button_icon_url }}</lticm:property>
        {{/if}}
        <lticm:property name="text">{{ editor_button_link_text }}</lticm:property>
        <lticm:property name="selection_width">{{ editor_button_width }}</lticm:property>
        <lticm:property name="selection_height">{{ editor_button_height }}</lticm:property>
        <lticm:property name="enabled">true</lticm:property>
      </lticm:options>
      {{/if}}
      {{#if resource_selection }}
      <lticm:options name="resource_selection">
        <lticm:property name="url">{{ resource_selection_launch_url }}</lticm:property>
        {{#if resource_selection_icon_url }}
        <lticm:property name="icon_url">{{ resource_selection_icon_url }}</lticm:property>
        {{/if}}
        <lticm:property name="text">{{ resource_selection_link_text }}</lticm:property>
        <lticm:property name="selection_width">{{ resource_selection_width }}</lticm:property>
        <lticm:property name="selection_height">{{ resource_selection_height }}</lticm:property>
        <lticm:property name="enabled">true</lticm:property>
      </lticm:options>
      {{/if}}
      {{#if homework_submission }}
      <lticm:options name="homework_submission">
        <lticm:property name="url">{{ homework_submission_launch_url }}</lticm:property>
        {{#if homework_submission_icon_url }}
        <lticm:property name="icon_url">{{ homework_submission_icon_url }}</lticm:property>
        {{/if}}
        <lticm:property name="text">{{ homework_submission_link_text }}</lticm:property>
        <lticm:property name="selection_width">{{ homework_submission_width }}</lticm:property>
        <lticm:property name="selection_height">{{ homework_submission_height }}</lticm:property>
        <lticm:property name="enabled">true</lticm:property>
      </lticm:options>
      {{/if}}
      {{#if course_navigation }}
      <lticm:options name="course_navigation">
        <lticm:property name="url">{{ course_navigation_launch_url }}</lticm:property>
        <lticm:property name="text">{{ course_navigation_link_text }}</lticm:property>
        {{#if course_navigation_visibility }}
        <lticm:property name="visibility">{{ course_navigation_visibility }}</lticm:property>
        {{/if}}
        {{#if course_navigation_default }}
        <lticm:property name="default">{{ course_navigation_default }}</lticm:property>
        {{/if}}
        <lticm:property name="enabled">true</lticm:property>
      </lticm:options>
      {{/if}}
      {{#if account_navigation }}
      <lticm:options name="account_navigation">
        <lticm:property name="url">{{ account_navigation_launch_url }}</lticm:property>
        <lticm:property name="text">{{ account_navigation_link_text }}</lticm:property>
        <lticm:property name="enabled">true</lticm:property>
      </lticm:options>
      {{/if}}
      {{#if user_navigation }}
      <lticm:options name="user_navigation">
        <lticm:property name="url">{{ user_navigation_launch_url }}</lticm:property>
        <lticm:property name="text">{{ user_navigation_link_text }}</lticm:property>
        <lticm:property name="enabled">true</lticm:property>
      </lticm:options>
      {{/if}}
    </blti:extensions>
    
    <cartridge_bundle identifierref="BLTI001_Bundle"/>
    <cartridge_icon identifierref="BLTI001_Icon"/>
</cartridge_basiclti_link>  
